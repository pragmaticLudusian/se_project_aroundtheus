!function(){"use strict";class e{constructor(e,t){let{items:s,renderer:r}=e;this._items=s,this._renderer=r,this._selector=t}renderItems(){this._container=document.querySelector(this._selector),this._items.forEach((e=>{this._renderer(e)}))}addItem(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"append";this._container[t](e)}}class t{constructor(e,t,s,r,i){let{name:n,link:a,_id:o,isLiked:l}=e;this._name=n,this._link=a,this._id=o,this._isLiked=l,this._cardSelector=t,this._handleImageClick=s,this._handleCardDelete=r,this._handleCardLike=i}_setEventListeners(){this._cardImage.addEventListener("click",(()=>{this._handleImageClick(this.getInfo())})),this._cardLike.addEventListener("click",(()=>{this._handleCardLike(this)})),this._cardDelete.addEventListener("click",(()=>{this._handleCardDelete(this)}))}likeCard(e){this._isLiked=e;const t=this._isLiked?"add":"remove";this._cardLike.classList[t]("card__like_active")}deleteCard(){this._cardDelete.closest(".card").remove(),this._cardElement=null}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}generateCard(){return this._cardElement=this._getTemplate(),this._cardImage=this._cardElement.querySelector(".card__image"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardElement.querySelector(".card__title").textContent=this._name,this._cardLike=this._cardElement.querySelector(".card__like"),this.likeCard(this._isLiked),this._cardDelete=this._cardElement.querySelector(".card__delete-button"),this._setEventListeners(),this._cardElement}getInfo(){return{name:this._name,link:this._link,id:this._id,isLiked:this._isLiked}}}class s{constructor(e,t){this._config=e,this._form=t}_setEventListeners(){this._inputList=Array.from(this._form.querySelectorAll(this._config.inputSelector)),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(this,e)}))})),this._buttonElement=this._form.querySelector(this._config.submitButtonSelector)}_checkInputValidity(e,t){this._hasInvalidInput(this._inputList)?(this._showInputError(this,t),this.disableButton()):(this._hideInputError(this,t),this.enableButton())}_hasInvalidInput(e){return e.some((e=>!e.validity.valid))}_showInputError(e,t){const s=this._form.querySelector(`#${t.id}_error`);s.textContent=t.validationMessage,s.classList.add(this._config.activeErrorClass)}_hideInputError(e,t){const s=this._form.querySelector(`#${t.id}_error`);s.classList.remove(this._config.activeErrorClass),s.textContent=""}disableButton(){this._buttonElement.classList.replace(this._config.activeButtonClass,this._config.inactiveButtonClass),this._buttonElement.setAttribute("disabled",!0)}enableButton(){this._buttonElement.removeAttribute("disabled"),this._buttonElement.classList.replace(this._config.inactiveButtonClass,this._config.activeButtonClass)}resetFormValidation(){this._inputList.forEach((e=>{this._hideInputError(this,e)})),this.disableButton()}enableValidation(){this._setEventListeners()}}class r{constructor(e){this._popup=e}setEventListeners(){this._popup.addEventListener("click",(e=>{this._popup===e.target&&this.close()})),this._popup.querySelector(".modal__close-button").addEventListener("click",(()=>this.close()))}open(){this._escCallback=this._handleEscClose.bind(this),document.addEventListener("keydown",this._escCallback),this._popup.classList.add("modal_opened")}close(){this._popup.classList.remove("modal_opened"),document.removeEventListener("keydown",this._escCallback)}_handleEscClose(e){"Escape"===e.key&&this.close()}}class i extends r{constructor(e,t,s,r){super(e),this._handleSubmit=t,this._inputSelector=s,this._submitSelector=r,this._submitText=this._submitSelector.textContent}setEventListeners(){super.setEventListeners(),this._popup.addEventListener("submit",(e=>{this._handleSubmit(e,this._getInputValues())})),this._inputFields=Array.from(this._popup.querySelectorAll(this._inputSelector))}_getInputValues(){const e={};return this._inputFields.forEach((t=>{e[t.name]=t.value})),e}setInputValues(e){this._inputFields.forEach((t=>{t.value=e[t.name]}))}renderLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._submitSelector.textContent=e?t:this._submitText}}const n={inputSelector:".form__input",submitButtonSelector:".form__save-button",inactiveButtonClass:"form__save-button_inactive",activeButtonClass:"form__save-button_active",activeErrorClass:"form__error_active"},a=document.querySelector(".profile"),o=a.querySelector(".profile__edit-button"),l=a.querySelector(".profile__name"),d=a.querySelector(".profile__description"),c=a.querySelector(".profile__avatar"),h=a.querySelector(".profile__avatar-edit"),_=document.querySelector("#modal_profile_info"),u=document.forms.profile_info_form,m=(u.name,u.description,u.profile_info_form_save),p=document.querySelector("#modal_profile_avatar"),v=document.forms.profile_avatar_form,f=(v.avatar,v.profile_avatar_form_save),E=a.querySelector(".profile__add-button"),b=document.querySelector("#modal_card-add"),L=document.forms["card-add_form"],g=L["card-add_form_save"],k=document.querySelector("#modal_card-view"),C=k.querySelector(".modal__image"),S=k.querySelector(".modal__caption"),y=document.querySelector("#modal_card-delete"),I=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}_request(e,t){return fetch(e,t).then(this._checkResponse)}_checkResponse(e){return e.ok?e.json():Promise.reject(`error ${e.status}`)}getUserProfileData(){return this._request(`${this._baseUrl}/users/me`,{headers:this._headers})}getInitialCards(){return this._request(`${this._baseUrl}/cards`,{headers:this._headers})}getUserAndCards(e){return Promise.all(e)}setUserProfileData(e,t){return this._request(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})})}addNewCard(e,t){return this._request(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})})}deleteCard(e){return this._request(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers})}likeCard(e){return this._request(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers})}unlikeCard(e){return this._request(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers})}setUserProfileAvatar(e){return this._request(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})})}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{"content-type":"application/json",authorization:"c48564f3-ecfb-4a65-b35d-031aabc842ce"}});let q,U;I.getUserAndCards([I.getUserProfileData(),I.getInitialCards()]).then((t=>{let[{_id:s,name:r,about:i,avatar:n},a]=t;U=s,D.setUserInfo(r,i),D.setAvatar(n),q=new e({items:a,renderer:e=>{const t=A(e);q.addItem(t)}},".gallery__cards"),q.renderItems()})).catch((e=>{console.error(e)}));const A=e=>new t(e,"#card-template",V,N,j).generateCard(),w={};function x(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Saving...";t.renderLoading(!0,s),e().then((()=>{t.close()})).catch(console.error).finally((()=>{t.renderLoading(!1)}))}Array.from(document.forms).forEach((e=>{const t=new s(n,e);w[e.id]=t,t.enableValidation()}));const D=new class{constructor(e){let{name:t,description:s,avatar:r}=e;this._nameElement=t,this._jobElement=s,this._avatarElement=r}getUserInfo(){return{name:this._nameElement.textContent,description:this._jobElement.textContent}}setUserInfo(e,t){this._nameElement.textContent=e,this._jobElement.textContent=t}getAvatar(){return{avatar:this._avatarElement.src}}setAvatar(e){this._avatarElement.src=e}}({name:l,description:d,avatar:c});o.addEventListener("click",(()=>{B.setInputValues(D.getUserInfo()),w.profile_info_form.resetFormValidation(),B.open()}));const B=new i(_,((e,t)=>{let{name:s,description:r}=t;e.preventDefault(),x((()=>I.setUserProfileData(s,r).then((()=>{D.setUserInfo(s,r)}))),B)}),n.inputSelector,m);B.setEventListeners(),h.addEventListener("click",(()=>{$.setInputValues(D.getAvatar()),$.open()}));const $=new i(p,((e,t)=>{let{avatar:s}=t;e.preventDefault(),x((()=>I.setUserProfileAvatar(s).then((()=>{D.setAvatar(s)}))),$)}),n.inputSelector,f);$.setEventListeners(),E.addEventListener("click",(()=>{P.open()}));const P=new i(b,((e,t)=>{let{title:s,link:r}=t;e.preventDefault(),x((()=>I.addNewCard(s,r).then((e=>{const t=A(e);q.addItem(t,"prepend"),L.reset(),w["card-add_form"].disableButton()}))),P,"Creating...")}),n.inputSelector,g);function V(e){T.open(e)}P.setEventListeners();const T=new class extends r{constructor(e,t){super(e),this._modalElements=t}open(e){let{name:t,link:s}=e;this._modalElements.image.src=s,this._modalElements.image.alt=t,this._modalElements.caption.textContent=t,super.open()}}(k,{image:C,caption:S});function j(e){const t=e.getInfo().isLiked?"unlikeCard":"likeCard";I[t](e.getInfo().id).then((t=>{e.likeCard(t.isLiked)})).catch((e=>{console.error(e)}))}function N(e){F.open(e)}T.setEventListeners();const F=new class extends r{constructor(e,t){super(e),this._handleSubmit=t}setEventListeners(){super.setEventListeners(),this._popup.addEventListener("submit",(e=>{this._handleSubmit(e,this._initiator)}))}open(e){this._initiator=e,super.open()}}(y,((e,t)=>{e.preventDefault(),I.deleteCard(t.getInfo().id).then((()=>{t.deleteCard(),F.close()})).catch((e=>{console.error(e)}))}));F.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBWXdGLEVBQU9hLEdBQ2pCRyxNQUFNaEIsR0FDTm5GLEtBQUtvRyxjQUFnQkosQ0FDdkIsQ0FFQVgsaUJBQUFBLEdBQ0VjLE1BQU1kLG9CQUNOckYsS0FBS29GLE9BQU9sRCxpQkFBaUIsVUFBV29ELElBQ3RDdEYsS0FBS29HLGNBQWNkLEVBQU90RixLQUFLd04sV0FBVyxHQUU5QyxDQUVBL0gsSUFBQUEsQ0FBS2dJLEdBQ0h6TixLQUFLd04sV0FBYUMsRUFDbEJ0SCxNQUFNVixNQUNSLEdKd01Ba0QsR0FDQSxDQUFDckQsRUFBTzBILEtBRU4xSCxFQUFNbUgsaUJBRU43RCxFQUNHcEcsV0FBV3dLLEVBQUs3SyxVQUFVZ0IsSUFDMUJrRyxNQUFLLEtBQ0oyRCxFQUFLeEssYUFDTCtLLEVBQWdCL0gsT0FBTyxJQUV4QjhGLE9BQU9DLElBQ05DLFFBQVFDLE1BQU1GLEVBQUksR0FDbEIsSUFHUmdDLEVBQWdCbEksbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIC8vIG5vbi10YW5naWJsZSBjbGFzcyB0byBhZGQgZWxlbWVudHMgdG8gdGhlIHdlYnBhZ2VcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgc2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zOyAvLyBhcnJheSBvZiBvYmplY3RzXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjsgLy8gY3VzdG9tLXRhaWxvcmVkIGZ1bmMgZm9yIGNsYXNzZXNcbiAgICB0aGlzLl9zZWxlY3RvciA9IHNlbGVjdG9yOyAvLyBjbGFzcy9pZCBzZWxlY3RvciAodHlwZW9mIHN0cmluZylcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc2VsZWN0b3IpO1xuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pOyAvLyBwYXNzIGl0ZW0gb3V0IG9mIGFycmF5IGFzIGFyZyB0byB0aGUgZnVuY3Rpb24gYm9keSBpbnNpZGUgaW5kZXguanNcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCwgbWV0aG9kID0gXCJhcHBlbmRcIikge1xuICAgIHRoaXMuX2NvbnRhaW5lclttZXRob2RdKGVsZW1lbnQpOyAvLyBhZGQgZWxlbSB0byBzZWxlY3RlZCBjb250YWluZXJcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHsgbmFtZSwgbGluaywgX2lkLCBpc0xpa2VkIH0sIC8vIHJlZmxlY3QgZnJvbSBKU09OXG4gICAgY2FyZFNlbGVjdG9yLFxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXG4gICAgaGFuZGxlQ2FyZERlbGV0ZSxcbiAgICBoYW5kbGVDYXJkTGlrZVxuICApIHtcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICB0aGlzLl9saW5rID0gbGluaztcbiAgICB0aGlzLl9pZCA9IF9pZDtcbiAgICB0aGlzLl9pc0xpa2VkID0gaXNMaWtlZDtcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7IC8vIHRlbXBsYXRlXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7IC8vIGhhbmRsZUNhcmRQb3B1cEltYWdlKCk7IGFsbCB0aGVzZSBhcmUgY3VycmVudGx5IEBpbmRleC5qc1xuICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUgPSBoYW5kbGVDYXJkRGVsZXRlOyAvLyBoYW5kbGVDYXJkUG9wdXBEZWxldGUoKTsgY29uZmlybWF0aW9uIHBvcHVwIHRvIGRlbGV0ZSBhIGNhcmRcbiAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZSA9IGhhbmRsZUNhcmRMaWtlOyAvLyBoYW5kbGVDYXJkTGlrZSgpOyB1c2VkIHRvIGhhbmRsZSB0aGUgRE9NIHNpZGUgb2YgdGhlIGxpa2UgYm9vbGVhbiBzdGF0dXMgZnJvbSB0aGUgc2VydmVyXG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHRoaXMuZ2V0SW5mbygpKTsgLy8gdXNlIGp1c3QgbmFtZSBhbmQgbGluayB0byBsb2FkIHRoZSBwb3B1cCBpbWFnZVxuICAgIH0pO1xuXG4gICAgdGhpcy5fY2FyZExpa2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlKHRoaXMpOyAvLyBpZiBjYWxsYmFjayB3YXMganVzdCBhIHJlZiB0byB0aGUgbWV0aG9kLCBpdCB3b3VsZCBwYXNzIGFzIHRoZSBjYXJkIGltYWdlIGVsZW1lbnQsIHNvIGluc3RlYWQgdGhpcyB3b3VsZCBwYXNzIGFsb25nIHRoZSBjbGFzcyBvYmplY3Qgd2l0aCBhbGwgdGhlIGNsYXNzLXNwZWNpZmljIHZhcnNcbiAgICB9KTtcblxuICAgIHRoaXMuX2NhcmREZWxldGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUodGhpcyk7IC8vIHNhbWUgaGVyZSwgYnV0IGhlcmUgdGhlIGVsZW1lbnQncyBnb2luZyB0byBiZSBuZWVkZWQgdG8gZGVsZXRlIHRoZSBjYXJkIGZyb20gRE9NIGp1c3QgYWZ0ZXIgcmVxdWVzdGluZyB0aGUgYXBpIHRvIGRlbGV0ZSBmcm9tIHRoZSBzZXJ2ZXJcbiAgICB9KTtcbiAgfVxuXG4gIGxpa2VDYXJkKGlzTGlrZWQpIHtcbiAgICB0aGlzLl9pc0xpa2VkID0gaXNMaWtlZDtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLl9pc0xpa2VkID8gXCJhZGRcIiA6IFwicmVtb3ZlXCI7XG4gICAgdGhpcy5fY2FyZExpa2UuY2xhc3NMaXN0W21ldGhvZF0oXCJjYXJkX19saWtlX2FjdGl2ZVwiKTtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmdldEluZm8oKSwgdGhpcy5faXNMaWtlZCk7XG4gIH1cblxuICBkZWxldGVDYXJkKCkge1xuICAgIC8vIHdvcmtzIHdpdGggdGhlIHNhbWUgcHJpbmNpcGxlIG9mIGdlbmVyYXRlQ2FyZCgpLCBidXQgYWxzbyBwb3NzaWJsZSBmcm9tIGluZGV4LmpzXG4gICAgdGhpcy5fY2FyZERlbGV0ZS5jbG9zZXN0KFwiLmNhcmRcIikucmVtb3ZlKCk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsOyAvLyBmcmVlIHVwIHJlc291cmNlc1xuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7IC8vIHByZS1sb29wIGZvciBjYXJkR2VuZXJhdGUoKVxuICAgIHJldHVybiBjYXJkVGVtcGxhdGU7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpOyAvLyB0cmVhdCBsaWtlIGNsYXNzLXNwZWNpZmljIHZhciAobm9uLXN0YXRpYywga2luZGEgbGlrZSBsZXQpXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTsgLy8gdGhpcy5fdmFyIHdvdWxkIGJlIHVzZWQgZm9yIGhhbmRsaW5nIGltYWdlIGNsaWNrLCBzbyBpdCdzIG5vdCBhIGNvbnN0IGhlcmVcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluazsgLy8gZm9ybWFsbHkgcmVmZXJyZWQgdG8gYXMgXCJjbGFzcyBmaWVsZHNcIiBvciBwcm9wZXJ0aWVzXG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZExpa2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2VcIik7XG4gICAgdGhpcy5saWtlQ2FyZCh0aGlzLl9pc0xpa2VkKTtcbiAgICB0aGlzLl9jYXJkRGVsZXRlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGUtYnV0dG9uXCIpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBnZXRJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLCAvLyBldmVuIGlmIHRoZSBmb3JtIHRvIGFkZCBhIGNhcmQgaXMgY2FsbGVkIFwidGl0bGVcIiwgaXQgY2FuIGJlIGFsaWFzZWQgYnkgcmVmIG9yIGJ5IGRlY29uc3RydWN0b3JzXG4gICAgICBsaW5rOiB0aGlzLl9saW5rLFxuICAgICAgaWQ6IHRoaXMuX2lkLFxuICAgICAgaXNMaWtlZDogdGhpcy5faXNMaWtlZCxcbiAgICB9O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtKSB7XG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnOyAvLyBzZXR0aW5ncyBvYmpcbiAgICB0aGlzLl9mb3JtID0gZm9ybTsgLy8gZm9ybSBlbGVtLCBub3QgaWRcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZ1tcImlucHV0U2VsZWN0b3JcIl0pXG4gICAgKTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAvLyB0aGlzLl9pbnB1dEVsZW1lbnQgPSBpbnB1dEVsZW1lbnQ7IC8vIHRoaXMgZ2V0cyBvdmVyd3JpdHRlbiBhbmQgY2F1c2VzIHRoZSBsYXN0IGlucHV0IG9uIHRoZSBsaXN0IHRvIGJlIHNlbGVjdGVkLiBpdCBtYXkgbm90IGJlIHN0YXRpYywgYnV0IGl0J3Mgc2hhcmVkIGFtb25nIHRoZSB2ZXJ5IHNhbWUgaW5zdGFuY2Ugb2YgdGhlIGNsYXNzXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KHRoaXMsIGlucHV0RWxlbWVudCk7IC8vIGFzIHN1Y2gsIGFub3RoZXIgYXJndW1lbnQgbmVlZHMgdG8gcGFzcyB0aHJvdWdoXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fY29uZmlnW1wic3VibWl0QnV0dG9uU2VsZWN0b3JcIl1cbiAgICApOyAvLyBmb3IgdXNlIGluIGJvdGggdGhlIGNsYXNzIGNvbnN0cnVjdGlvbiBhbmQgcmVzZXRWYWxpZGF0aW9uIG1ldGhvZCwgaGVyZSBiZWluZyB0aGUgZXhjZXB0aW9uIHJhdGhlciB0aGFuIHRoZSBydWxlXG4gIH1cblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KG9iaiwgaW5wdXRFbGVtZW50KSB7XG4gICAgLy8gb2JqLCBiZWluZyB0aGUgMXN0IHBhcmFtZXRlciBpcyBlcXVpdmFsZW50IHRvIHRoZSBrZXl3b3JkIHRoaXNcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0TGlzdCkpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKHRoaXMsIGlucHV0RWxlbWVudCk7XG4gICAgICB0aGlzLmRpc2FibGVCdXR0b24oKTsgLy8gXCJlbmQtcG9pbnRcIiBtZXRob2RzIG5lZWQgbm8gYXJncyBpbmNsLiB0aGlzXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKHRoaXMsIGlucHV0RWxlbWVudCk7XG4gICAgICB0aGlzLmVuYWJsZUJ1dHRvbigpO1xuICAgIH1cbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XG4gICAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKG9iaiwgaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgaW5wdXRFcnJvciA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfV9lcnJvcmApO1xuICAgIGlucHV0RXJyb3IudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgaW5wdXRFcnJvci5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZ1tcImFjdGl2ZUVycm9yQ2xhc3NcIl0pO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKG9iaiwgaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgaW5wdXRFcnJvciA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfV9lcnJvcmApO1xuICAgIGlucHV0RXJyb3IuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWdbXCJhY3RpdmVFcnJvckNsYXNzXCJdKTtcbiAgICBpbnB1dEVycm9yLnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxuXG4gIGRpc2FibGVCdXR0b24oKSB7XG4gICAgLy8gdW5sZXNzIHVzaW5nIHRoZSBwcml2YXRlIHByb3BlcnRpZXMgZnJvbSB0aGUgY29uc3RydWN0b3IsIHVzaW5nIGludGVybWVkaWF0ZSBwcml2LiBwcm9wcy4gd291bGQgYmUgY29uc2lkZXJlZCB1bmRlZiBpZiBjYWxsZWQgZnJvbSBvdXRzaWRlIHVzaW5nIGEgcHVibGljIG1ldGhvZFxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlcGxhY2UoXG4gICAgICB0aGlzLl9jb25maWdbXCJhY3RpdmVCdXR0b25DbGFzc1wiXSxcbiAgICAgIHRoaXMuX2NvbmZpZ1tcImluYWN0aXZlQnV0dG9uQ2xhc3NcIl1cbiAgICApO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gIH1cblxuICBlbmFibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZXBsYWNlKFxuICAgICAgdGhpcy5fY29uZmlnW1wiaW5hY3RpdmVCdXR0b25DbGFzc1wiXSxcbiAgICAgIHRoaXMuX2NvbmZpZ1tcImFjdGl2ZUJ1dHRvbkNsYXNzXCJdXG4gICAgKTtcbiAgfVxuXG4gIHJlc2V0Rm9ybVZhbGlkYXRpb24oKSB7XG4gICAgLy8gcmVtb3ZlIGVycm9ycyBhbmQgZGlzYWJsZSB0aGVtIHJhdGhlciB0aGFuIGFkZGluZyB0aGVtIGFuZXdcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcih0aGlzLCBpbnB1dEVsZW1lbnQpO1xuICAgIH0pO1xuICAgIHRoaXMuZGlzYWJsZUJ1dHRvbigpO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBwb3B1cDsgLy8gdGhlIHBvcHVwIHNlbGVjdG9yIChhcyBhbiBlbGVtZW50KVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX3BvcHVwID09PSBldmVudC50YXJnZXQpIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ1dHRvblwiKTtcbiAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5jbG9zZSgpKTtcbiAgICAvLyBmb3IgY2FsbGJhY2sgZnVuYyB0byBjYWxsIGZvcndhcmQgYSBmdW5jLCBpdCB3b3VsZCBzdGlsbCBuZWVkIHRvIGhhdmUgYW4gYW5vbi5mdW5jIGJvZHksIHNpbmNlIFwidGhpc1wiIGJlaW5nIHRoZSBjbGFzcyBvYmplY3QgZnVuY3Rpb25zIGJldHRlciBpbnNpZGUgYW5vbi5mdW5jIGFzIG9wcG9zZWQgdG8gYSBuYW1lZCBjYWxsYmFja1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9lc2NDYWxsYmFjayA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7IC8vIGFwcGFyZW50bHkgd2l0aCBuYW1lZCBjYWxsYmFja3MgLSB3aGljaCBhcmUgcmVxdWlyZWQgdG8gYmUgcmVtb3ZlZCAtIFwidGhpc1wiIGluIF9oRUMgd2lsbCByZWZlciB0byB0aGUgd2hvbGUgZG9jdW1lbnQgYW5kIG5vdCB0aGUgcG9wdXAgaW5zdGFuY2UsIHNvIGJpbmRpbmcgaXQgZW5zdXJlcyB0aGF0IHRoZSBwb3B1cCBpdHNlbGYgY2FuIGJlIHBhc3NlZCB0aHJvdWdoIHdpdGhvdXQgYWRkaXRpb25hbCBhcmdzIGFuZCByZXRhaW4gZXZlbnQua2V5Li4uXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fZXNjQ2FsbGJhY2spOyAvLyAuLi5ob3dldmVyLCB1c2luZyBiaW5kKCkgY2F1c2VzIGFuIGVudGlyZWx5IGRpZmZlcmVudCBmdW5jdGlvbiB3aXRoIGEgZGlmZmVyZW50IHJlZiB0byBiZSBjcmVhdGVkLCBzbyB0aGUgb3JpZ2luYWwgcmVmIHdvdWxkIGJlIGxvc3QsIGlmIG5vdCB0byBoYXZlIGl0IHNhdmVkIGludG8gYSBjbGFzcyBmaWVsZCB0byByZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyLlxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2VzY0NhbGxiYWNrKTsgLy8gUW9MIGFuZCBpdCBjYW4gYmUgcmUtZW5hYmxlZCB1cG9uIG9wZW5pbmcgdGhlIHBvcHVwXG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXAsIGhhbmRsZVN1Ym1pdCwgaW5wdXRTZWxlY3Rvciwgc3VibWl0U2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cCk7IC8vIHBvcHVwIHNlbGVjdGVkIGVsZW1lbnRcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBoYW5kbGVTdWJtaXQ7IC8vIGNhbGxiYWNrIGZ1bmMgZm9yIHN1Ym1pdHRpbmcgZm9ybVxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBpbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdFNlbGVjdG9yID0gc3VibWl0U2VsZWN0b3I7IC8vIHVzZWQgZm9yIGFwaSByZW5kZXJcbiAgICB0aGlzLl9zdWJtaXRUZXh0ID0gdGhpcy5fc3VibWl0U2VsZWN0b3IudGV4dENvbnRlbnQ7IC8vIGluaXRpYWwgcHJlLWxvYWRpbmcgc3VibWl0IHRleHRcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdChldmVudCwgdGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7IC8vIHBhc3MgYW5kIGV4ZWN1dGUgZnVuY1xuICAgIH0pO1xuICAgIHRoaXMuX2lucHV0RmllbGRzID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcbiAgICApO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRGaWVsZHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xuICB9XG5cbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xuICAgIHRoaXMuX2lucHV0RmllbGRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQubmFtZV07XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZywgbG9hZGluZ1RleHQgPSBcIlNhdmluZy4uLlwiKSB7XG4gICAgdGhpcy5fc3VibWl0U2VsZWN0b3IudGV4dENvbnRlbnQgPSBpc0xvYWRpbmdcbiAgICAgID8gbG9hZGluZ1RleHRcbiAgICAgIDogdGhpcy5fc3VibWl0VGV4dDtcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGNvbmZpZ3VyYXRpb24gPSB7XG4gIC8vIGZvcm1TZWxlY3RvcjogXCIuZm9ybVwiLCAvLyBoYW5kbGVkIHRocm91Z2ggZG9jdW1lbnQuZm9ybXMgcHNldWRvLWFycmF5XG4gIGlucHV0U2VsZWN0b3I6IFwiLmZvcm1fX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5mb3JtX19zYXZlLWJ1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcImZvcm1fX3NhdmUtYnV0dG9uX2luYWN0aXZlXCIsXG4gIGFjdGl2ZUJ1dHRvbkNsYXNzOiBcImZvcm1fX3NhdmUtYnV0dG9uX2FjdGl2ZVwiLFxuICAvLyBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIiwgLy8gaGFuZGxlZCB2aWEgQ1NTIHBzZXVkby1jbGFzc1xuICAvLyBlcnJvclNlbGVjdG9yOiBgIyR7aW5wdXRFbGVtZW50LmlkfV9lcnJvcmAsIC8vIGR1ZSB0byB1c2Ugb2YgZXNjLiBsaXQuIGFuZCBpZCBjbGFzcyB0ZW1wbGF0ZXMsIHRoaXMgaXMgdW51c2VkXG4gIGFjdGl2ZUVycm9yQ2xhc3M6IFwiZm9ybV9fZXJyb3JfYWN0aXZlXCIsXG59O1xuXG4vLyBpbml0IHByb2ZpbGUgZWRpdGluZyAmIHJlbGF0ZWQgbW9kYWwgd2luZG93XG5jb25zdCBwcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlXCIpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvbkVkaXRQcm9maWxlID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFxuICBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiXG4pO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVBdmF0YXIgPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvblVwZGF0ZUF2YXRhciA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcihcbiAgXCIucHJvZmlsZV9fYXZhdGFyLWVkaXRcIlxuKTtcbi8vIHByb2ZpbGUgKGluZm8pIGZvcm0gJiBpbnB1dCB2YXJzXG5leHBvcnQgY29uc3QgbW9kYWxXaW5kb3dQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbF9wcm9maWxlX2luZm9cIik7XG5jb25zdCBmb3JtUHJvZmlsZSA9IGRvY3VtZW50LmZvcm1zW1wicHJvZmlsZV9pbmZvX2Zvcm1cIl07XG5leHBvcnQgY29uc3QgaW5wdXRQcm9maWxlTmFtZSA9IGZvcm1Qcm9maWxlW1wibmFtZVwiXTsgLy8gY2FuIHJlZmVyIHRvIGJ5IG5hbWUgb3IgaWQgYXR0cmlic1xuZXhwb3J0IGNvbnN0IGlucHV0UHJvZmlsZURlc2NyaXB0aW9uID0gZm9ybVByb2ZpbGVbXCJkZXNjcmlwdGlvblwiXTtcbi8vIHByb2ZpbGUgYXZhdGFyIGZyb20gJiBpbnB1dCB2YXJcbmV4cG9ydCBjb25zdCBzdWJtaXRQcm9maWxlSW5mbyA9IGZvcm1Qcm9maWxlW1wicHJvZmlsZV9pbmZvX2Zvcm1fc2F2ZVwiXTtcbmV4cG9ydCBjb25zdCBtb2RhbFdpbmRvd1Byb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIiNtb2RhbF9wcm9maWxlX2F2YXRhclwiXG4pO1xuY29uc3QgZm9ybVByb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5mb3Jtc1tcInByb2ZpbGVfYXZhdGFyX2Zvcm1cIl07XG5leHBvcnQgY29uc3QgaW5wdXRQcm9maWxlQXZhdGFyID0gZm9ybVByb2ZpbGVBdmF0YXJbXCJhdmF0YXJcIl07XG5leHBvcnQgY29uc3Qgc3VibWl0UHJvZmlsZUF2YXRhciA9XG4gIGZvcm1Qcm9maWxlQXZhdGFyW1wicHJvZmlsZV9hdmF0YXJfZm9ybV9zYXZlXCJdO1xuXG4vLyBpbml0IGNhcmQgYWRkICYgcmVsYXRlZCBtb2RhbCB3aW5kb3dcbmV4cG9ydCBjb25zdCBidXR0b25BZGRDYXJkID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5leHBvcnQgY29uc3QgbW9kYWxXaW5kb3dDYXJkQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbF9jYXJkLWFkZFwiKTtcbi8vIGNhcmQtYWRkIGZvcm0gJiBpbnB1dCB2YXJzXG5leHBvcnQgY29uc3QgZm9ybUNhcmRBZGQgPSBkb2N1bWVudC5mb3Jtc1tcImNhcmQtYWRkX2Zvcm1cIl07XG5leHBvcnQgY29uc3Qgc3VibWl0Q2FyZEFkZCA9IGZvcm1DYXJkQWRkW1wiY2FyZC1hZGRfZm9ybV9zYXZlXCJdO1xuXG4vLyBpbml0IGNhcmQgdmlldyBtb2RhbCB3aW5kb3dcbmV4cG9ydCBjb25zdCBtb2RhbFdpbmRvd0NhcmRWaWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbF9jYXJkLXZpZXdcIik7XG5leHBvcnQgY29uc3QgbW9kYWxJbWFnZSA9IG1vZGFsV2luZG93Q2FyZFZpZXcucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XG5leHBvcnQgY29uc3QgbW9kYWxDYXB0aW9uID1cbiAgbW9kYWxXaW5kb3dDYXJkVmlldy5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jYXB0aW9uXCIpO1xuLy8gc2luY2UgdGhlc2UgYXJlIHNpbmd1bGFyIGVsZW1lbnRzIHRoYXQgd291bGQgY2hhbmdlIGNvbnRlbnQgZm9yIG1hbnkgaW1hZ2VzL2NhcHRpb25zLCBxUyBzaG91bGQgb25seSBiZSB1c2VkIG9uY2UgaGVyZVxuXG4vLyBpbml0IGNhcmQgZGVsZXRlIG1vZGFsIHdpbmRvd1xuZXhwb3J0IGNvbnN0IG1vZGFsV2luZG93Q2FyZERlbGV0ZSA9XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWxfY2FyZC1kZWxldGVcIik7XG5cbi8vIGluaXQgdGhlIGdhbGxlcnkgY2FyZHMgYW5kIGJ1aWxkIGFsbCBkZXJpdmF0aXZlIGFjdGlvbnMgdXBvbiBwYWdlIGxvYWRcbmV4cG9ydCBjb25zdCBjYXJkc0dhbGxlcnkgPSBcIi5nYWxsZXJ5X19jYXJkc1wiO1xuXG4vKiBjb25zdGFudCBleHBvcnRpbmcgbm90ZTpcbiAgdXN1YWxseSB0aG9zZSB0aGF0IHdvdWxkIGJlIHJlZmVyZW5jZWQgaW4gY29kZSBtb3JlIHRoYW4gb25jZSBzaG91bGQgYmUgbGlzdGVkIGZyb20gaGVyZS5cbiAgc2VsZWN0b3JzICE9IGVsZW1lbnRzOyBzZWxlY3RvcnMgYXJlIHN0cmluZ3MgYW5kIGRvbid0IG5lZWQgdG8gYmUgbGlzdGVkIGhlcmUgLSBlbGVtcyBkby5cbiovXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbi8qIERFQ0xBUkFUSVZFIFNFQ1RJT04gKi9cbmltcG9ydCB7XG4gIGNvbmZpZ3VyYXRpb24sXG4gIGJ1dHRvbkVkaXRQcm9maWxlLFxuICBwcm9maWxlTmFtZSxcbiAgcHJvZmlsZURlc2NyaXB0aW9uLFxuICBidXR0b25VcGRhdGVBdmF0YXIsXG4gIHByb2ZpbGVBdmF0YXIsXG4gIG1vZGFsV2luZG93UHJvZmlsZSxcbiAgaW5wdXRQcm9maWxlTmFtZSxcbiAgaW5wdXRQcm9maWxlRGVzY3JpcHRpb24sXG4gIGJ1dHRvbkFkZENhcmQsXG4gIG1vZGFsV2luZG93Q2FyZEFkZCxcbiAgZm9ybUNhcmRBZGQsXG4gIG1vZGFsV2luZG93Q2FyZFZpZXcsXG4gIG1vZGFsSW1hZ2UsXG4gIG1vZGFsQ2FwdGlvbixcbiAgbW9kYWxXaW5kb3dDYXJkRGVsZXRlLFxuICBtb2RhbFdpbmRvd1Byb2ZpbGVBdmF0YXIsXG4gIGlucHV0UHJvZmlsZUF2YXRhcixcbiAgY2FyZHNHYWxsZXJ5LFxuICBzdWJtaXRQcm9maWxlSW5mbyxcbiAgc3VibWl0UHJvZmlsZUF2YXRhcixcbiAgc3VibWl0Q2FyZEFkZCxcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcbiAgaGVhZGVyczoge1xuICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIGF1dGhvcml6YXRpb246IFwiYzQ4NTY0ZjMtZWNmYi00YTY1LWIzNWQtMDMxYWFiYzg0MmNlXCIsXG4gIH0sXG59KTtcblxubGV0IGNhcmRTZWN0aW9uOyAvLyBzaW5jZSB0aGUgY2FyZCBzZWN0aW9uIGlzIGJlaW5nIHRpZWQgdG8gdGhlIERPTSBhbmQgaXMgbmVlZGVkIHRvIGJvdGggaW5pdCBhbmQgYWRkIGNhcmRzIGxhdGVyIG9uLCBpdCB3b3VsZCBuZWVkIHRvIGJlIGRlY2xhcmVkIGF0IHRoZSBnbG9iYWwgc2NvcGUgYW5kIGNhbiBiZSByZWFzc2lnbmVkIHdpdGggbGV0LlxubGV0IHVzZXJJZDsgLy8gdGhpcyBpcyBnbG9iYWwgdG9vXG5cbi8vIHRoaXMgaXMgYSBQcm9taXNlIGFycmF5IHRoYXQgd291bGQgZ2V0IGZ1bGZpbGxlZCB3aGVuIGFsbCBzdWJzZXF1ZW50IHByb21pc2VzIGFyZSBmdWxmaWxsZWQgdG9vICgmJi1zdHlsZSlcbi8vIGFzIHN1Y2gsIGl0IGNoYWlucyBvbiBhIHBlci1hcnJheSBiYXNpcywgbm90IHBlciBpbmRpdmlkdWFsIFByb21pc2VcbmFwaVxuICAuZ2V0VXNlckFuZENhcmRzKFthcGkuZ2V0VXNlclByb2ZpbGVEYXRhKCksIGFwaS5nZXRJbml0aWFsQ2FyZHMoKV0pXG4gIC50aGVuKChbeyBfaWQsIG5hbWUsIGFib3V0LCBhdmF0YXIgfSwgY2FyZEFycmF5XSkgPT4ge1xuICAgIHVzZXJJZCA9IF9pZDsgLy8gZm9yIGZ1dHVyZSB1c2VcbiAgICB1c2VyUHJvZmlsZS5zZXRVc2VySW5mbyhuYW1lLCBhYm91dCk7IC8vIGRlc3BpdGUgYmVpbmcgYXN5bmMsIHRoaXMgd2lsbCBhbHJlYWR5IGJlIGluaXRpYWxpemVkIHRoYW5rcyB0byBldmVudCBsb29wIChzeW5jIHRoZW4gYXN5bmMpXG4gICAgdXNlclByb2ZpbGUuc2V0QXZhdGFyKGF2YXRhcik7XG5cbiAgICBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxuICAgICAge1xuICAgICAgICBpdGVtczogY2FyZEFycmF5LFxuICAgICAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoaXRlbSk7XG4gICAgICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY2FyZHNHYWxsZXJ5XG4gICAgKTtcbiAgICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtcygpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsgLy8gdy9vdXQgYSB3YXkgdG8gcmV0dXJuIG9yIHByaW50IGVycm9yIHRvIGNvbnNvbGUgaXQgZ2V0cyB1bmNhdWdodFxuICB9KTtcblxuY29uc3QgY3JlYXRlQ2FyZCA9IChjYXJkSXRlbSkgPT4ge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXG4gICAgY2FyZEl0ZW0sXG4gICAgXCIjY2FyZC10ZW1wbGF0ZVwiLFxuICAgIGhhbmRsZUNhcmRQb3B1cEltYWdlLFxuICAgIGhhbmRsZUNhcmRQb3B1cERlbGV0ZSxcbiAgICBoYW5kbGVDYXJkTGlrZVxuICApO1xuICByZXR1cm4gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbn07XG5cbmNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge307XG5BcnJheS5mcm9tKGRvY3VtZW50LmZvcm1zKS5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWd1cmF0aW9uLCBmb3JtRWxlbWVudCk7XG4gIGZvcm1WYWxpZGF0b3JzW2Zvcm1FbGVtZW50LmlkXSA9IHZhbGlkYXRvcjtcbiAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbn0pO1xuXG5mdW5jdGlvbiBoYW5kbGVTdWJtaXQocmVxdWVzdCwgcG9wdXAsIGxvYWRpbmdUZXh0ID0gXCJTYXZpbmcuLi5cIikge1xuICAvLyByZXF1ZXN0IGlzIGEgY2FsbGJhY2sgdGhhdCByZXR1cm5zIGEgUHJvbWlzZSB0byBjaGFpbiBiZWZvcmUgY2xvc2luZyB0aGUgcG9wdXAsIHdoaWNoIG11c3QgYmUgaW5zaWRlIC50aGVuIGZvciBzdWNjZXNzZnVsIHJlcXVlc3RzLiB0aGUgY2F0Y2ggYW5kIGZpbmFsbHkgYXJlIGFsbCBmb2xsb3dlZCBhZnRlciB0aGUgZnVuY3Rpb24gY2FsbCBmaW5pc2hlcyBpdHMgLnRoZW5cbiAgLy8gcG9wdXAgaXMgdGhlIHBvcHVwIGluc3RhbmNlXG4gIC8vIGxvYWRpbmdUZXh0IGlzIG9wdGlvbmFsIGZvciB0aGUgc3VibWl0IGJ1dHRvbiB3aGVuIHRoZSBhcGkgaXMgYmVpbmcgcmVxdWVzdGVkXG4gIHBvcHVwLnJlbmRlckxvYWRpbmcodHJ1ZSwgbG9hZGluZ1RleHQpOyAvLyByZW5kZXJzIGZhc3RlciB3aGVuIHN5bmNlZCBiZWZvcmUgdGhlIGFzeW5jIGJlZ2luc1xuICByZXF1ZXN0KClcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBwb3B1cC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcG9wdXAucmVuZGVyTG9hZGluZyhmYWxzZSk7XG4gICAgfSk7XG59XG4vKiBFTkQgREVDTEFSQVRJVkUgU0VDVElPTiAqL1xuXG4vKiBQUk9GSUxFIElORk8gU0VDVElPTiAqL1xuY29uc3QgdXNlclByb2ZpbGUgPSBuZXcgVXNlckluZm8oe1xuICAvLyBwYXNzIGFzIGFyZ3VtZW50cyB0aGUgSFRNTCBET00gcHJvZmlsZSBlbGVtZW50c1xuICBuYW1lOiBwcm9maWxlTmFtZSxcbiAgZGVzY3JpcHRpb246IHByb2ZpbGVEZXNjcmlwdGlvbixcbiAgYXZhdGFyOiBwcm9maWxlQXZhdGFyLFxufSk7XG5cbmJ1dHRvbkVkaXRQcm9maWxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHBvcHVwUHJvZmlsZUluZm8uc2V0SW5wdXRWYWx1ZXModXNlclByb2ZpbGUuZ2V0VXNlckluZm8oKSk7IC8vIHsgbmFtZSwgZGVzY3JpcHRpb24gfVxuICBmb3JtVmFsaWRhdG9yc1tcInByb2ZpbGVfaW5mb19mb3JtXCJdLnJlc2V0Rm9ybVZhbGlkYXRpb24oKTsgLy8gaW5wdXQgYWx3YXlzIHZhbGlkIHdoZW4gdGFraW5nIGZyb20gdGhlIGh0bWwgcGFnZVxuICBwb3B1cFByb2ZpbGVJbmZvLm9wZW4oKTtcbn0pO1xuXG5jb25zdCBwb3B1cFByb2ZpbGVJbmZvID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIG1vZGFsV2luZG93UHJvZmlsZSxcbiAgKGV2ZW50LCB7IG5hbWUsIGRlc2NyaXB0aW9uIH0pID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGhhbmRsZVN1Ym1pdCgoKSA9PiB7XG4gICAgICByZXR1cm4gYXBpLnNldFVzZXJQcm9maWxlRGF0YShuYW1lLCBkZXNjcmlwdGlvbikudGhlbigoKSA9PiB7XG4gICAgICAgIHVzZXJQcm9maWxlLnNldFVzZXJJbmZvKG5hbWUsIGRlc2NyaXB0aW9uKTtcbiAgICAgIH0pO1xuICAgIH0sIHBvcHVwUHJvZmlsZUluZm8pO1xuICB9LFxuICBjb25maWd1cmF0aW9uLmlucHV0U2VsZWN0b3IsXG4gIHN1Ym1pdFByb2ZpbGVJbmZvXG4pO1xucG9wdXBQcm9maWxlSW5mby5zZXRFdmVudExpc3RlbmVycygpO1xuLyogRU5EIFBST0ZJTEUgSU5GTyBTRUNUSU9OICovXG5cbi8qIFBST0ZJTEUgQVZBVEFSIFNFQ1RJT04gKi9cbmJ1dHRvblVwZGF0ZUF2YXRhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwb3B1cFByb2ZpbGVBdmF0YXIuc2V0SW5wdXRWYWx1ZXModXNlclByb2ZpbGUuZ2V0QXZhdGFyKCkpOyAvLyB7IGF2YXRhciB9IGFzIG9iaiwgbm90IHN0cmluZ1xuICBwb3B1cFByb2ZpbGVBdmF0YXIub3BlbigpO1xufSk7XG5cbmNvbnN0IHBvcHVwUHJvZmlsZUF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBtb2RhbFdpbmRvd1Byb2ZpbGVBdmF0YXIsXG4gIChldmVudCwgeyBhdmF0YXIgfSkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaGFuZGxlU3VibWl0KCgpID0+IHtcbiAgICAgIHJldHVybiBhcGkuc2V0VXNlclByb2ZpbGVBdmF0YXIoYXZhdGFyKS50aGVuKCgpID0+IHtcbiAgICAgICAgdXNlclByb2ZpbGUuc2V0QXZhdGFyKGF2YXRhcik7XG4gICAgICB9KTtcbiAgICB9LCBwb3B1cFByb2ZpbGVBdmF0YXIpO1xuICB9LFxuICBjb25maWd1cmF0aW9uLmlucHV0U2VsZWN0b3IsXG4gIHN1Ym1pdFByb2ZpbGVBdmF0YXJcbik7XG5wb3B1cFByb2ZpbGVBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbi8qIEVORCBQUk9GSUxFIEFWQVRBUiBTRUNUSU9OICovXG5cbi8qIENBUkQgQUREIFNFQ1RJT04gKi9cbmJ1dHRvbkFkZENhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgLy8gZG9uJ3Qgc2hvdyBlcnJvcnMgdXBvbiBvcGVuaW5nIHRoZSBtb2RhbCB3aGVuIG5vIGlucHV0IGlzIGlzc3VlZFxuICBwb3B1cENhcmRBZGQub3BlbigpO1xufSk7XG5cbmNvbnN0IHBvcHVwQ2FyZEFkZCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBtb2RhbFdpbmRvd0NhcmRBZGQsXG4gIChldmVudCwgeyB0aXRsZSwgbGluayB9KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBoYW5kbGVTdWJtaXQoXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHJldHVybiBhcGkuYWRkTmV3Q2FyZCh0aXRsZSwgbGluaykudGhlbigobmV3Q2FyZCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChuZXdDYXJkKTtcbiAgICAgICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50LCBcInByZXBlbmRcIik7IC8vIGNhbiBzdGlsbCBiZSB1c2VkIHRvIGFkZCBsYXRlciBjYXJkcywgbm90IGp1c3QgaW5pdCBvbmVzXG4gICAgICAgICAgZm9ybUNhcmRBZGQucmVzZXQoKTtcbiAgICAgICAgICBmb3JtVmFsaWRhdG9yc1tcImNhcmQtYWRkX2Zvcm1cIl0uZGlzYWJsZUJ1dHRvbigpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBwb3B1cENhcmRBZGQsXG4gICAgICBcIkNyZWF0aW5nLi4uXCJcbiAgICApO1xuICB9LFxuICBjb25maWd1cmF0aW9uLmlucHV0U2VsZWN0b3IsXG4gIHN1Ym1pdENhcmRBZGRcbik7XG5wb3B1cENhcmRBZGQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbi8qIEVORCBDQVJEIEFERCBTRUNUSU9OICovXG5cbi8qIENBUkQgVklFVyBJTUFHRSBTRUNUSU9OICovXG5mdW5jdGlvbiBoYW5kbGVDYXJkUG9wdXBJbWFnZShjYXJkKSB7XG4gIC8vIHN1Z2dlc3RlZCBieSBTcHJpbnQgNyBwcm9qZWN0IHRvIGtlZXAgdGhpcyBmdW5jIGluIGluZGV4LmpzIGZvciBub3dcbiAgcG9wdXBJbWFnZS5vcGVuKGNhcmQpOyAvLyBzaW5jZSBcInRoaXNcIiBpcyBwcm9oaWJpdGVkIG91dHNpZGUgb2YgY2xhc3NlcywgYW5kIHBhc3NpbmcgYW4gYXJnIHRvIHRoZSBmdW5jIGFzIGEgcGFyYW0gdG8gdGhpcyBmdW5jIGNhdXNlcyBhIGxleGljYWwgcmVmIGVyciwgdGhlbiBpbiB0aGUgY2xhc3MncyBoYW5kbGVyIGZ1bmMgaXQgd291bGQgbmVlZCB0byBwYXNzIHRoZSByZWFkeS1tYWRlIGdldEluZm8oKSBtZXRob2QgdG8gcGFzcyB0aHJvdWdoIHVuaW1wZWRlZFxufVxuXG5jb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKG1vZGFsV2luZG93Q2FyZFZpZXcsIHtcbiAgaW1hZ2U6IG1vZGFsSW1hZ2UsXG4gIGNhcHRpb246IG1vZGFsQ2FwdGlvbixcbn0pO1xucG9wdXBJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuLyogRU5EIENBUkQgVklFVyBJTUFHRSBTRUNUSU9OICovXG5cbi8qIENBUkQgTElLRS9VTkxJS0UgU0VDVElPTiAqL1xuZnVuY3Rpb24gaGFuZGxlQ2FyZExpa2UoY2FyZCkge1xuICBjb25zdCByZXF1ZXN0ID0gY2FyZC5nZXRJbmZvKCkuaXNMaWtlZCA/IFwidW5saWtlQ2FyZFwiIDogXCJsaWtlQ2FyZFwiOyAvLyBpbnZlcnRlZCBsb2dpYyBnZXRzIGhhbmRsZWQgaGVyZVxuICBhcGlbcmVxdWVzdF0oY2FyZC5nZXRJbmZvKCkuaWQpXG4gICAgLnRoZW4oKGNhcmRSZXMpID0+IHtcbiAgICAgIGNhcmQubGlrZUNhcmQoY2FyZFJlcy5pc0xpa2VkKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfSk7XG59XG4vKiBFTkQgQ0FSRCBMSUtFL1VOTElLRSBTRUNUSU9OICovXG5cbi8qIENBUkQgREVMRVRFIFNFQ1RJT04gKi9cbmZ1bmN0aW9uIGhhbmRsZUNhcmRQb3B1cERlbGV0ZShjYXJkKSB7XG4gIHBvcHVwQ2FyZERlbGV0ZS5vcGVuKGNhcmQpO1xufVxuXG5jb25zdCBwb3B1cENhcmREZWxldGUgPSBuZXcgUG9wdXBXaXRoQ29uZmlybShcbiAgbW9kYWxXaW5kb3dDYXJkRGVsZXRlLFxuICAoZXZlbnQsIGNhcmQpID0+IHtcbiAgICAvLyB0aGlzIHN1YmNsYXNzIGFjdHMgbGlrZSB0aGUgZm9ybSBwb3B1cCBzdWJjbGFzcyBleGNlcHQgaXQgaGFzIG5vIGlucHV0cy4gSXQgZG9lcyBob3dldmVyIGhlbHAgdG8gcGFzcyB0aGUgbmVjZXNzYXJ5IHBhcmFtIHRvIGhhbmRsZSBjYXJkIGRlbGV0aW9uXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAvLyBjb25zb2xlLmxvZyhjYXJkLl9jYXJkRWxlbWVudCk7XG4gICAgYXBpXG4gICAgICAuZGVsZXRlQ2FyZChjYXJkLmdldEluZm8oKS5pZClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY2FyZC5kZWxldGVDYXJkKCk7XG4gICAgICAgIHBvcHVwQ2FyZERlbGV0ZS5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH0pO1xuICB9XG4pO1xucG9wdXBDYXJkRGVsZXRlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4vKiBFTkQgQ0FSRCBERUxFVEUgU0VDVElPTiAqL1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgfVxuXG4gIF9yZXF1ZXN0KHVybCwgb3B0aW9ucykge1xuICAgIHJldHVybiBmZXRjaCh1cmwsIG9wdGlvbnMpLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7IC8vIHRoZW5hYmxlIHRha2VzIHJlZnNcbiAgfVxuXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xuICAgIGlmIChyZXMub2spIHJldHVybiByZXMuanNvbigpOyAvLyBpZiBzdWNjZXNzZnVsLCByZXR1cm5zIGEgdXNlciBvYmplY3RcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYGVycm9yICR7cmVzLnN0YXR1c31gKTsgLy8gb3RoZXJ3aXNlLCBvdXRwdXQgYW4gZXJyb3IgdG8gLmNhdGNoLCB3aGljaCBzaG91bGQgcHJvcGVybHkgcmV0dXJuIHRoZSByZWplY3RlZCBQcm9taXNlIHRvIGEgLmNhdGNoKCkgb3V0c2lkZSB0aGUgY2xhc3MgaW4gaW5kZXguanNcbiAgfVxuXG4gIGdldFVzZXJQcm9maWxlRGF0YSgpIHtcbiAgICAvLyByZXR1cm5zIGEgUHJvbWlzZSB0eXBlIG9iamVjdCB3aGljaCBpcyBcInRoZW5hYmxlXCIgdG8gY29udGludWUgdGhlIGFzeW5jIGNoYWluIHRvIGdvIGZvcndhcmQgb25jZSB0aGUgSlNPTiBvYmplY3QgaXMgcmV0cmlldmVkIGZyb20gdGhlIHNlcnZlciB2aWEgdGhlIEFQSSBjYWxsXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIGdldFVzZXJBbmRDYXJkcyhwcm9taXNlQXJyYXkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZUFycmF5KTtcbiAgfVxuXG4gIHNldFVzZXJQcm9maWxlRGF0YShuYW1lLCBkZXNjcmlwdGlvbikge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBuYW1lLCBhYm91dDogZGVzY3JpcHRpb24gfSksXG4gICAgfSk7XG4gIH1cblxuICBhZGROZXdDYXJkKHRpdGxlLCBsaW5rKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZTogdGl0bGUsIGxpbms6IGxpbmsgfSksXG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgbGlrZUNhcmQoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIiwgLy8gZGVzcGl0ZSBiZWluZyBcIlBVVFwiLCB0aGUgc2VydmVyIGhhbmRsZXMgdGhlIGJvb2xlYW4ganVzdCBmaW5lIHcvb3V0IGEgYm9keSBpbnNpZGUgdGhlIHJlcXVlc3RcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gIH1cblxuICB1bmxpa2VDYXJkKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgc2V0VXNlclByb2ZpbGVBdmF0YXIoYXZhdGFyKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmF0YXI6IGF2YXRhciB9KSxcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGRlc2NyaXB0aW9uLCBhdmF0YXIgfSkge1xuICAgIHRoaXMuX25hbWVFbGVtZW50ID0gbmFtZTtcbiAgICB0aGlzLl9qb2JFbGVtZW50ID0gZGVzY3JpcHRpb247XG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudCA9IGF2YXRhcjtcbiAgfVxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5fam9iRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8obmFtZSwgZGVzY3JpcHRpb24pIHtcbiAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fam9iRWxlbWVudC50ZXh0Q29udGVudCA9IGRlc2NyaXB0aW9uO1xuICB9XG5cbiAgZ2V0QXZhdGFyKCkge1xuICAgIHJldHVybiB7IGF2YXRhcjogdGhpcy5fYXZhdGFyRWxlbWVudC5zcmMgfTtcbiAgfVxuXG4gIHNldEF2YXRhcihhdmF0YXIpIHtcbiAgICB0aGlzLl9hdmF0YXJFbGVtZW50LnNyYyA9IGF2YXRhcjtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cCwgbW9kYWxFbGVtZW50cykge1xuICAgIHN1cGVyKHBvcHVwKTsgLy8gcG9wdXAgc2VsZWN0ZWQgZWxlbWVudFxuICAgIHRoaXMuX21vZGFsRWxlbWVudHMgPSBtb2RhbEVsZW1lbnRzOyAvLyBjYWxsYmFjayBmb3IgdGhlIG1vZGFsJ3MgZWxlbWVudHNcbiAgfVxuXG4gIC8vIHNldEV2ZW50TGlzdGVuZXJzKCkgZG9lc24ndCBuZWVkIHN1cGVyIGJlY2F1c2UgaXQncyB3b3JraW5nIGluIGEgZGVmYXVsdCBiZWhhdmlvclxuXG4gIG9wZW4oeyBuYW1lLCBsaW5rIH0pIHtcbiAgICB0aGlzLl9tb2RhbEVsZW1lbnRzLmltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy5fbW9kYWxFbGVtZW50cy5pbWFnZS5hbHQgPSBuYW1lO1xuICAgIHRoaXMuX21vZGFsRWxlbWVudHMuY2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG5cbiAgLy8gY2xvc2UoKSBkb2Vzbid0IG5lZWQgbWV0aG9kIG92ZXJyaWRpbmcgZWl0aGVyXG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXAsIGhhbmRsZVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwKTtcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBoYW5kbGVTdWJtaXQ7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXQoZXZlbnQsIHRoaXMuX2luaXRpYXRvcik7IC8vIGNvbnRpbnVlZCBmcm9tIHRoZSBvcGVuKGluaXRpYXRvcikgbWV0aG9kXG4gICAgfSk7XG4gIH1cblxuICBvcGVuKGluaXRpYXRvcikge1xuICAgIHRoaXMuX2luaXRpYXRvciA9IGluaXRpYXRvcjsgLy8gcGFzcyBpbmZvIGFib3V0IHdoYXQgdHJpZ2dlcmVkIHRoZSBwb3B1cCB0byBvcGVuXG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiU2VjdGlvbiIsImNvbnN0cnVjdG9yIiwiX3JlZiIsInNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsInRoaXMiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfc2VsZWN0b3IiLCJyZW5kZXJJdGVtcyIsIl9jb250YWluZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJmb3JFYWNoIiwiaXRlbSIsImFkZEl0ZW0iLCJlbGVtZW50IiwibWV0aG9kIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiQ2FyZCIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJoYW5kbGVDYXJkRGVsZXRlIiwiaGFuZGxlQ2FyZExpa2UiLCJuYW1lIiwibGluayIsIl9pZCIsImlzTGlrZWQiLCJfbmFtZSIsIl9saW5rIiwiX2lzTGlrZWQiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlQ2FyZERlbGV0ZSIsIl9oYW5kbGVDYXJkTGlrZSIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9jYXJkSW1hZ2UiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0SW5mbyIsIl9jYXJkTGlrZSIsIl9jYXJkRGVsZXRlIiwibGlrZUNhcmQiLCJjbGFzc0xpc3QiLCJkZWxldGVDYXJkIiwiY2xvc2VzdCIsInJlbW92ZSIsIl9jYXJkRWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJnZW5lcmF0ZUNhcmQiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsImlkIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm0iLCJfY29uZmlnIiwiX2Zvcm0iLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0RWxlbWVudCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfYnV0dG9uRWxlbWVudCIsIm9iaiIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfc2hvd0lucHV0RXJyb3IiLCJkaXNhYmxlQnV0dG9uIiwiX2hpZGVJbnB1dEVycm9yIiwiZW5hYmxlQnV0dG9uIiwiaW5wdXRMaXN0Iiwic29tZSIsInZhbGlkaXR5IiwidmFsaWQiLCJpbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJhZGQiLCJyZXBsYWNlIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwicmVzZXRGb3JtVmFsaWRhdGlvbiIsImVuYWJsZVZhbGlkYXRpb24iLCJQb3B1cCIsInBvcHVwIiwiX3BvcHVwIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJldmVudCIsInRhcmdldCIsImNsb3NlIiwib3BlbiIsIl9lc2NDYWxsYmFjayIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5IiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZVN1Ym1pdCIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRTZWxlY3RvciIsInN1cGVyIiwiX2hhbmRsZVN1Ym1pdCIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdFNlbGVjdG9yIiwiX3N1Ym1pdFRleHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJfaW5wdXRGaWVsZHMiLCJpbnB1dFZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJzZXRJbnB1dFZhbHVlcyIsImRhdGEiLCJyZW5kZXJMb2FkaW5nIiwiaXNMb2FkaW5nIiwibG9hZGluZ1RleHQiLCJjb25maWd1cmF0aW9uIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiYWN0aXZlQnV0dG9uQ2xhc3MiLCJhY3RpdmVFcnJvckNsYXNzIiwicHJvZmlsZSIsImJ1dHRvbkVkaXRQcm9maWxlIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlRGVzY3JpcHRpb24iLCJwcm9maWxlQXZhdGFyIiwiYnV0dG9uVXBkYXRlQXZhdGFyIiwibW9kYWxXaW5kb3dQcm9maWxlIiwiZm9ybVByb2ZpbGUiLCJmb3JtcyIsInN1Ym1pdFByb2ZpbGVJbmZvIiwibW9kYWxXaW5kb3dQcm9maWxlQXZhdGFyIiwiZm9ybVByb2ZpbGVBdmF0YXIiLCJzdWJtaXRQcm9maWxlQXZhdGFyIiwiYnV0dG9uQWRkQ2FyZCIsIm1vZGFsV2luZG93Q2FyZEFkZCIsImZvcm1DYXJkQWRkIiwic3VibWl0Q2FyZEFkZCIsIm1vZGFsV2luZG93Q2FyZFZpZXciLCJtb2RhbEltYWdlIiwibW9kYWxDYXB0aW9uIiwibW9kYWxXaW5kb3dDYXJkRGVsZXRlIiwiYXBpIiwib3B0aW9ucyIsIl9iYXNlVXJsIiwiYmFzZVVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsIl9yZXF1ZXN0IiwidXJsIiwiZmV0Y2giLCJ0aGVuIiwiX2NoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0VXNlclByb2ZpbGVEYXRhIiwiZ2V0SW5pdGlhbENhcmRzIiwiZ2V0VXNlckFuZENhcmRzIiwicHJvbWlzZUFycmF5IiwiYWxsIiwic2V0VXNlclByb2ZpbGVEYXRhIiwiZGVzY3JpcHRpb24iLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFib3V0IiwiYWRkTmV3Q2FyZCIsInRpdGxlIiwidW5saWtlQ2FyZCIsInNldFVzZXJQcm9maWxlQXZhdGFyIiwiYXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsImNhcmRTZWN0aW9uIiwidXNlcklkIiwiY2FyZEFycmF5IiwidXNlclByb2ZpbGUiLCJzZXRVc2VySW5mbyIsInNldEF2YXRhciIsImNhcmRFbGVtZW50IiwiY3JlYXRlQ2FyZCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiY2FyZEl0ZW0iLCJoYW5kbGVDYXJkUG9wdXBJbWFnZSIsImhhbmRsZUNhcmRQb3B1cERlbGV0ZSIsImZvcm1WYWxpZGF0b3JzIiwicmVxdWVzdCIsImZpbmFsbHkiLCJmb3JtRWxlbWVudCIsInZhbGlkYXRvciIsIl9uYW1lRWxlbWVudCIsIl9qb2JFbGVtZW50IiwiX2F2YXRhckVsZW1lbnQiLCJnZXRVc2VySW5mbyIsImdldEF2YXRhciIsInBvcHVwUHJvZmlsZUluZm8iLCJfcmVmMiIsInByZXZlbnREZWZhdWx0IiwicG9wdXBQcm9maWxlQXZhdGFyIiwiX3JlZjMiLCJwb3B1cENhcmRBZGQiLCJfcmVmNCIsIm5ld0NhcmQiLCJyZXNldCIsImNhcmQiLCJwb3B1cEltYWdlIiwibW9kYWxFbGVtZW50cyIsIl9tb2RhbEVsZW1lbnRzIiwiaW1hZ2UiLCJjYXB0aW9uIiwiY2FyZFJlcyIsInBvcHVwQ2FyZERlbGV0ZSIsIl9pbml0aWF0b3IiLCJpbml0aWF0b3IiXSwic291cmNlUm9vdCI6IiJ9